(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["game"] = factory();
	else
		root["game"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	function Web(e,t,i,s){this.size="web"+e,this.left=t,this.top=i,this.power=e,this.fishData=s,this._init()}var Animation=__webpack_require__(1),util=__webpack_require__(2),classCompre=__webpack_require__(3),screenWidth=document.documentElement.clientWidth,screenHeight=document.documentElement.clientHeight,player={score:666,level:0,ele:document.getElementsByClassName("num"),sources:{0:"-3,-220",1:"-3,-196",2:"-3,-172",3:"-3,-148",4:"-3,-124",5:"-3,-100",6:"-3,-76",7:"-3,-52",8:"-3,-27",9:"-3,-4"},cannonLevel:[0,-84,-168,-252,-337,-420,-504],screenScore:{goldCoin:{size:"60,61",sources:["0,0","0,-61","0,-122","0,-183","0,-244","0,-305","0,-366","0,-427","0,-488","0,-549","0,-610","0,-671"]},numCoin:{size:"33,42",sources:["-1,-3","-37,-3","-73,-3","-110,-3","-145,-3","-181,-3","-216,-3","-253,-3","-288,-3","-325,-3","-361,-3"]}},update:function(){for(var e=player.score+"",t=e.split("").reverse(),i=0;i<player.ele.length;i++)i<t.length?player.ele[5-i].style.backgroundPosition=player.sources[t[i]].split(",")[0]+"px "+player.sources[t[i]].split(",")[1]+"px":player.ele[5-i].style.backgroundPosition=player.sources[0].split(",")[0]+"px "+player.sources[0].split(",")[1]+"px"},showAnimation:function(e,t){var i=document.getElementById("coinMusic");i.play();var s=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");s.setAttribute("style","position:absolute;width:76px;height:42px;color:#000;left:"+t.offsetLeft+"px;top:"+t.offsetTop+"px"),o.setAttribute("style","position:absolute;width:33px;height:42px;left:0;top:0;background:url(images/coinText.png) no-repeat "+this.screenScore.numCoin.sources[10].split(",")[0]+"px "+this.screenScore.numCoin.sources[10].split(",")[1]+"px"),n.setAttribute("style","position:absolute;width:33px;height:42px;right:0;top:0;background:url(images/coinText.png) no-repeat "+this.screenScore.numCoin.sources[e].split(",")[0]+"px "+this.screenScore.numCoin.sources[e].split(",")[1]+"px"),document.body.appendChild(s),s.appendChild(o),s.appendChild(n),setTimeout(function(){i.pause(),document.body.removeChild(s)},500)}},Fishes=classCompre.create(function(e){this.type=e,this.typeSize=e,this.blood=1.5*this.typeSize,this.score=10*e,this._init()},{_init:function(){this.fishDiv=document.createElement("div"),this.fishDiv.className="fishes",document.body.appendChild(this.fishDiv),this.start(this.typeSize)},start:function(e){var t=this;t.images=[];for(var i in util.sources)t.images.push(util.sources[i]);!function(e){var i=2,s=!0,o=0,n=60,a=3;t.ani=new Animation,t.fishMapName=e<t.images.length-1?"fish"+e:"shark"+e,t.fishDiv.index=e-1,t.fishDiv.style.width=util.type[t.fishMapName].split(",")[0]+"px",t.fishDiv.style.height=util.type[t.fishMapName].split(",")[1]+"px",t.fishDiv.style.top=Math.floor(Math.random()*document.body.clientHeight-t.fishDiv.offsetHeight-80)+"px";var l=document.body.clientWidth-t.fishDiv.offsetWidth;t.ani.loadImage(t.images).enterFrame(function(e,r){var h,p,c=r/n;if(s){if(t.fishDiv.style.transform="rotate(0)",h=Math.min(o+a*c,l),p=util.fishLive[t.fishMapName+"Map"][i].split(" "),h==l)return e(),s=!1,void(i=2)}else if(t.fishDiv.style.transform="rotate(180deg)",h=Math.max(l-a*c,o),p=util.fishLive[t.fishMapName+"Map"][i].split(" "),h==o)return e(),s=!0,void(i=2);++i==util.fishLive[t.fishMapName+"Map"].length-1&&(i=0),t.fishDiv.style.backgroundImage="url("+t.images[t.fishDiv.index]+")",t.fishDiv.style.backgroundPosition=p[0]+"px "+p[1]+"px",t.fishDiv.style.left=h+"px"}).repeat().start(100)}(e)},over:function(){var e=this;this.ani.dispose();var t=new Animation;t.changePosition(this.fishDiv,util.fishDead[e.fishMapName+"Map"],this.images[this.fishDiv.index]).repeat().start(100),setTimeout(function(){$(e.fishDiv).remove()},1e3)}});Web.prototype._init=function(){this.webDiv=document.createElement("div");var e=this.sources[this.size].size.split(",");this.webDiv.setAttribute("style","left:"+(this.left-e[0]/2)+"px;top:"+(this.top-e[1]/2)+"px;width:"+this.sources[this.size].size.split(",")[0]+"px;height:"+this.sources[this.size].size.split(",")[1]+"px;position:absolute;background:url("+this.sources[this.size].img+") no-repeat"),document.body.appendChild(this.webDiv);var t=this;t.webDiv.power=t.power,t.checkArea(t.webDiv,t.fishData),setTimeout(function(){$(t.webDiv).remove()},500)},Web.prototype.checkArea=function(e,t){for(var i=this,s=0;s<t.length;s++)t[s].fishDiv.offsetLeft>e.offsetLeft&&t[s].fishDiv.offsetLeft+t[s].fishDiv.offsetWidth<e.offsetLeft+e.offsetWidth&&t[s].fishDiv.offsetTop>e.offsetTop&&t[s].fishDiv.offsetTop+t[s].fishDiv.offsetHeight<e.offsetTop+e.offsetHeight&&(t[s].blood-=e.power,t[s].blood<=0&&(player.score+=i.fishData[s].score,player.update(),player.showAnimation(i.fishData[s].typeSize,i.fishData[s].fishDiv),i.fishData[s].over(),Fishes.removeOne(s),s--))},Web.prototype.sources={web1:{img:"images/web1.png",size:"116,118"},web2:{img:"images/web2.png",size:"137,142"},web3:{img:"images/web3.png",size:"156,162"},web4:{img:"images/web4.png",size:"180,174"},web5:{img:"images/web5.png",size:"163,155"},web6:{img:"images/web6.png",size:"191,181"},web7:{img:"images/web7.png",size:"242,244"}};var Bullet=classCompre.create(function(e,t,i,s,o){this.type="b"+e,this.size=e,this.speed=10,this.speedX=t,this.speedY=i,t>0?this.left=s.left+35:this.left=s.left+25,this.top=s.top+20,this.angel=o,this._init()},{_init:function(){this.bDiv=document.createElement("div");var e=this.sources[this.type].size.split(",");this.bDiv.setAttribute("style","transform:rotate("+this.angel+"deg);width:"+e[0]+"px;height:"+e[1]+"px;position:absolute;left:"+this.left+"px;top:"+this.top+"px;background:url("+this.sources[this.type].img+") no-repeat"),document.body.appendChild(this.bDiv),this.start()},sources:{b1:{img:"images/bullet1.png",size:"24,26"},b2:{img:"images/bullet2.png",size:"25,29"},b3:{img:"images/bullet3.png",size:"27,31"},b4:{img:"images/bullet4.png",size:"29,33"},b5:{img:"images/bullet5.png",size:"30,34"},b6:{img:"images/bullet6.png",size:"31,35"},b7:{img:"images/bullet7.png",size:"32,38"},b8:{img:"images/bullet8.png",size:"30,34"}},start:function(){var e=this;e.fishData=Fishes.getInstances(),this.timer=setInterval(function(){if(e.bDiv.style.left=e.bDiv.offsetLeft+e.speedX+"px",e.bDiv.style.top=e.bDiv.offsetTop+e.speedY+"px",e.fishData)for(var t=0;t<e.fishData.length;t++)e.fishData[t]&&(util.pz(e.bDiv,e.fishData[t].fishDiv)?(new Web(e.size,e.bDiv.offsetLeft,e.bDiv.offsetTop,e.fishData),$(e.bDiv).remove(),clearInterval(e.timer)):e.bDiv.offsetTop<=0&&($(e.bDiv).remove(),clearInterval(e.timer)))},100)}}),tanchu=document.getElementById("tanchu"),gameoverDiv=document.getElementById("gameover"),Game={shipei:function(e,t){this.cannonX=Math.round(.515*screenWidth+$(".cannon").width()/2),this.ratio=(-this.cannonX+t)/e,this.angel=180*Math.atan((t-this.cannonX)/e)/Math.PI},start:function(){$(".fishes").remove(),Fishes.empty(),clearInterval(this.timer);var e=screenHeight-72;$("#wraper").css("height",e+"px"),player.update(),this.timer=setInterval(function(){Fishes.getCount()<30&&Fishes.getInstance(Math.floor(7*Math.random()+1))},1e3),$("#restart").click(function(){tanchu.style.display="none",gameoverDiv.style.display="none",location.reload()}),$(".right").on("tap",function(e){e.stopPropagation(),6==player.level?player.level=0:player.level++,$(this).addClass("activeRight");var t=this;$(".cannon").css("background-position","0 "+player.cannonLevel[player.level]+"px"),setTimeout(function(){$(t).removeClass("activeRight")},50)}),$(".left").on("tap",function(e){e.stopPropagation();var t=this;0==player.level?player.level=6:player.level--,$(this).addClass("activeLeft"),$(".cannon").css("background-position","0 "+player.cannonLevel[player.level]+"px"),setTimeout(function(){$(t).removeClass("activeLeft")},50)}),$("#wraper").on("touchend",function(e){if(isClick)if(player.score>=5*(player.level+1)){player.score-=5*(player.level+1),player.update(),isClick=!1;var t=Math.round(.515*screenWidth+$(".cannon").width()/2),i=e.changedTouches[0].clientX-t,s=screenHeight-e.changedTouches[0].clientY,o=Math.atan(i/s);o=180*o/Math.PI,Bullet.getInstance(player.level+1,10*i/s,-10,$(".cannon").offset(),o),$(".cannon").css("transform","rotate("+o+"deg)"),setTimeout(function(){isClick=!0},500)}else player.score<5?(tanchu.style.display="block",gameoverDiv.style.display="block"):alert("请更换炮台")})}};module.exports=Game;

/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";function next(t){t&&t()}function Animation(){this.taskQueue=[],this.index=0,this.timeline=new Timeline,this.state=STATE_INITIAL}function Timeline(){this.animationHandler=0,this.state=STATE_INTERVAL_TIME}function startTimeline(t,i){function n(){var s=(new Date).getTime();t.animationHandler=setTimeout(n,n.interval||DEFAULT_INTERVAL),s-e>=t.interval&&(t.onenterframe(s-i),e=s)}t.startTime=i,n.interval=t.interval;var e=(new Date).getTime();n()}function getId(){return++__id}function loadImages(t,i,n){function e(t){function n(){e.onload=e.onerror=null,delete window[t.id],--a||T||(i(o),clearTimeout(r))}t.status="loading";var e=t.img;e.onload=function(){o=o&&!0,t.status="loaded",n()},e.onerror=function(){o=!1,t.status="error",n()},e.src=t.src}function s(){T=!0,i(!1)}var a=0,o=!0,r=0,T=!1;for(var u in t)if(t.hasOwnProperty(u)){var h=t[u];"string"==typeof h&&(h=t[u]={src:h}),h&&h.src&&(a++,h.id="__img__"+u+getId(),h.img=window[h.id]=new Image,e(h))}a?n&&(r=setTimeout(s,n)):i(o)}var DEFAULT_INTERVAL=1e3/60,STATE_INITIAL=0,STATE_START=1,STATE_STOP=2,TASK_SYNC=0,TASK_ASYNC=1,STATE_INTERVAL_TIME=0,STATE_START_TIME=1,STATE_STOP_TIME=2;Animation.prototype.loadImage=function(t){var i=function(i){loadImages(t.slice(),i)},n=TASK_SYNC;return this._add(i,n)},Animation.prototype.changePosition=function(t,i,n){var e,s,a=i.length;if(a){var o=this;e=function(e,s){n&&(t.style.backgroundImage="url("+n+")");var r=Math.min(Math.floor(s/o.interval),a-1),T=i[r].split(" ");t.style.backgroundPosition=T[0]+"px "+T[1]+"px",r===a-1&&e()},s=TASK_ASYNC}else e=next,s=TASK_SYNC;return this._add(e,s)},Animation.prototype.changeSrc=function(t,i){var n,e,s=i.length;if(s){var a=this;n=function(n,e){var o=Math.min(Math.floor(e/a.interval),s-1);t.src=i[o],o===s-1&&n()},e=TASK_ASYNC}else n=next,e=TASK_SYNC;return this._add(n,e)},Animation.prototype.enterFrame=function(t){return this._add(t,TASK_ASYNC)},Animation.prototype.then=function(t){var i=function(i){t(),i()},n=TASK_SYNC;return this._add(i,n)},Animation.prototype.start=function(t){return this.state===STATE_START?this:this.taskQueue.length?(this.state=STATE_START,this.interval=t,this._runTask(),this):this},Animation.prototype.repeat=function(t){var i=this,n=function(){if("undefined"==typeof t)return i.index--,void i._runTask();if(t)t--,i.index--,i._runTask();else{var n=i.taskQueue[i.index];i._next(n)}},e=TASK_SYNC;return this._add(n,e)},Animation.prototype.repeatForever=function(){return this.repeat()},Animation.prototype.wait=function(t){return this.taskQueue&&this.taskQueue.length>0&&(this.taskQueue[this.taskQueue.length-1].wait=t),this},Animation.prototype.pause=function(){return this.state===STATE_START?(this.state=STATE_STOP,this.timeline.stop(),this):this},Animation.prototype.restart=function(){return this.state===STATE_STOP?(this.state=STATE_START,this.timeline.restart(),this):this},Animation.prototype.dispose=function(){return this.state!==STATE_INITIAL?(this.state=STATE_INITIAL,this.taskQueue=null,this.timeline.stop(),this.timeline=null,this):this},Animation.prototype._add=function(t,i){return this.taskQueue.push({taskFn:t,type:i}),this},Animation.prototype._runTask=function(){if(this.taskQueue&&this.state===STATE_START){if(this.index===this.taskQueue.length)return void this.dispose();var t=this.taskQueue[this.index];t.type===TASK_SYNC?this._syncTask(t):this._asyncTask(t)}},Animation.prototype._syncTask=function(t){var i=this,n=function(){i._next(t)},e=t.taskFn;e(n)},Animation.prototype._asyncTask=function(t){var i=this,n=function(n){var e=t.taskFn,s=function(){i.timeline.stop(),i._next(t)};e(s,n)};this.timeline.onenterframe=n,this.timeline.start(this.interval)},Animation.prototype._next=function(t){var i=this;this.index++,t.wait?setTimeout(function(){i._runTask()},t.wait):this._runTask()},Timeline.prototype.onenterframe=function(t){},Timeline.prototype.start=function(t){this.state!==STATE_START_TIME&&(this.state=STATE_START_TIME,this.interval=t||DEFAULT_INTERVAL,startTimeline(this,(new Date).getTime()))},Timeline.prototype.stop=function(){this.state===STATE_START_TIME&&(this.state=STATE_STOP_TIME,this.startTime&&(this.dur=(new Date).getTime()-this.startTime),clearTimeout(this.animationHandler))},Timeline.prototype.restart=function(){this.state!==STATE_START_TIME&&this.dur&&this.interval&&(this.state=STATE_START_TIME,startTimeline(this,(new Date).getTime()-this.dur))};var __id=0;module.exports=function(){return new Animation};

/***/ },
/* 2 */
/***/ function(module, exports) {

	var util={pz:function(s,f){var i=s.offsetLeft,h=s.offsetLeft+s.offsetWidth,a=s.offsetTop,p=s.offsetTop+s.offsetHeight,e=f.offsetLeft,M=f.offsetLeft+f.offsetWidth,g=f.offsetTop,t=f.offsetTop+f.offsetHeight;return!(h<e||i>M||a>t||p<g)},sources:{fish1:"images/fish1.png",fish2:"images/fish2.png",fish3:"images/fish3.png",fish4:"images/fish4.png",fish5:"images/fish5.png",fish6:"images/fish6.png",fish7:"images/fish7.png",fish8:"images/fish8.png",fish9:"images/fish9.png",fish10:"images/fish10.png",shark11:"images/shark1.png",shark12:"images/shark2.png"},type:{fish1:"51,31",fish2:"72,55",fish3:"68,52",fish4:"77,55",fish5:"107,112",fish6:"105,77",fish7:"81,142",fish8:"167,121",fish9:"149,172",fish10:"163,183",shark11:"509,265",shark12:"516,265"},fishes:{fish1Map:["-3 -1","-3 -38","-3 -76","-3 -113","-3 -155","-3 -191","-3 -227","-3 -265"],fish2Map:["-5 -5","-5 -67","-5 -129","-5 -195","-5 -257","-5 -321","-5 -385","-5 -448"],fish3Map:["-3 -1","-3 -56","-3 -113","-3 -168","-3 -224","-3 -278","-3 -335","-3 -390"],fish4Map:["0 -2","0 -61","0 -120","0 -179","0 -238","0 -296","0 -356","0 -415"],fish5Map:["0 -18","0 -140","0 -264","0 -376","0 -491","0 -612","0 -735","0 -857"],fish6Map:["0 -1","0 -80","0 -160","0 -240","0 -317","0 -396","0 -475","0 -554","0 -622","0 -713","0 -790","0 -872"],fish7Map:["-5 -3","-8 -156","-9 -305","-10 -454","-6 -614","-6 -755","-4 -907","-5 -1060","-4 -1210","-5 -1362"],fish8Map:["-4 0","-4 -127","-4 -254","-4 -381","-4 -508","-4 -632","-4 -757","-4 -884","-4 -1010","-4 -1135","-4 -1262","-4 -1386"],fish9Map:["-16 -6","-16 -191","-16 -381","-16 -574","-16 -757","-16 -929","-16 -1105","-16 -1284","-16 -1467","-16 -1662","-16 -1831","-16 -2028"],fish10Map:["-10 -11","-10 -187","-10 -381","-10 -561","-10 -770","-10 -954","-10 -1142","-10 -1329","-10 -1512","-10 -1692"],shark11Map:["0 0","0 -265","0 -530","0 -808","0 -1087","0 -1352","0 -1620","0 -1885","0 -2150","0 -2431","0 -2705","0 -2975"],shark12Map:["0 0","0 -265","0 -555","0 -835","0 -1100","0 -1365","0 -1630","0 -1920","0 -2185","0 -2460","0 -2735","0 -3010"]},fishLive:{fish1Map:["-3 -1","-3 -38","-3 -76","-3 -113"],fish2Map:["-5 -5","-5 -67","-5 -129","-5 -195"],fish3Map:["-3 -1","-3 -56","-3 -113","-3 -168"],fish4Map:["0 -2","0 -61","0 -120","0 -179"],fish5Map:["0 -18","0 -140","0 -264","0 -376"],fish6Map:["0 -1","0 -80","0 -160","0 -240","0 -317","0 -396","0 -475","0 -554"],fish7Map:["-5 -3","-8 -156","-9 -305","-10 -454","-6 -614","-6 -755"],fish8Map:["-4 0","-4 -127","-4 -254","-4 -381","-4 -508","-4 -632","-4 -757","-4 -884"],fish9Map:["-16 -6","-16 -191","-16 -381","-16 -574","-16 -757","-16 -929","-16 -1105","-16 -1284"],fish10Map:["-10 -11","-10 -187","-10 -381","-10 -561","-10 -770","-10 -954"],shark11Map:["0 0","0 -265","0 -530","0 -808","0 -1087","0 -1352","0 -1620","0 -1885"],shark12Map:["0 0","0 -265","0 -555","0 -835","0 -1100","0 -1365","0 -1630","0 -1920"]},fishDead:{fish1Map:["-3 -155","-3 -191","-3 -227","-3 -265"],fish2Map:["-5 -257","-5 -321","-5 -385","-5 -448"],fish3Map:["-3 -224","-3 -278","-3 -335","-3 -390"],fish4Map:["0 -238","0 -296","0 -356","0 -415"],fish5Map:["0 -491","0 -612","0 -735","0 -857"],fish6Map:["0 -622","0 -713","0 -790","0 -872"],fish7Map:["-4 -907","-5 -1060","-4 -1210","-5 -1362"],fish8Map:["-4 -1010","-4 -1135","-4 -1262","-4 -1386"],fish9Map:["-16 -1467","-16 -1662","-16 -1831","-16 -2028"],fish10Map:["-10 -1142","-10 -1329","-10 -1512","-10 -1692"],shark11Map:["0 -2150","0 -2431","0 -2705","0 -2975"],shark12Map:["0 -2185","0 -2460","0 -2735","0 -3010"]}};module.exports=util;

/***/ },
/* 3 */
/***/ function(module, exports) {

	var classCompre=function(){var t=function(t,n,e){var r,o=[],c=0;r=function(n){t.apply(this,n)},e&&(r.prototype=e);for(var u in n)r.prototype[u]=n[u];r.prototype.implement=function(){};var a=function(){var t=Array.prototype.slice.call(arguments,0);return o[c++]=new r(t),o[c-1]},i=function(){for(var t,n=0;t=o[n++];)t=null;o=[],o.length=0,c=0},p=function(){return c},s=function(t){0==c?c=0:c--,o.splice(t,1)},f=function(){return r.prototype},l=function(){var e=classCompre.create(t,n,o[0]||a());return e},v=function(t,n){r&&(r[t]=n)};return{interface:v,getInstance:a,empty:i,subClass:l,getCount:p,removeOne:s,getPrototype:f,getInstances:function(){return o}}};return{create:t,getInstances:function(){return _instances}}}();module.exports=classCompre;

/***/ }
/******/ ])
});
;